<html>
<head>
<title>エラー対策テクニック</title>
<style type="text/css">
<!--
.main{text-align : left;
      font-family : sans-serif;
      font-size : 14pt;
      line-height : 150%;}
.yukari{text-align : left;
        font-family : sans-serif;
        font-size : 14pt;
        line-height : 150%;
        color : #ff00ff}
-->
</style>
</head>
<body topmargin="30" leftmargin="10" rightmargin="80"
      bgcolor="#ccccff" text="black" link="blue" vlink="blue" alink="red">
<p class="main">
閑話休題　エラー対策テクニック<br>
<br>
</p>

<table cellspacing="1" cellpadding="10" border="0">

<tr align="left">
<td width="120"><img src="./../icon/yukari04.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br>
大分弾幕作りに慣れてきたんじゃないかしら？<br>
ベーシックな弾幕ならそらで書けるようになったんじゃないかしら？<br>
それだけ慣れてきても起きるもの。<br>
それがエラーね。
<br><br><br>
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari07.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
エラー･･････プログラマの天敵よね。<br>
これまで弾幕作りをしているときにも何度か遭遇したのではないかしら？<br>
それで何度も苦労したんじゃない？<br>
そんなエラーについて今回話そうと思うわ。
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari02.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br>
一番いいのはエラーを起こさずに済むことだけれど･･････<br>
それは現実的ではないわ。<br>
何故ならエラーというのは気が付かずに出てくるものだから。<br>
エラーが出ないようにするにはひたすらスクリプトを作って、<br>
とにかく経験を積んで慣れるしかないわ。<br>
だからこそエラーというのはプログラマにとって<br>
避けて通れない関門なのよ。
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari01.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br>
エラーの一番厄介なところは何処が間違っているのかわからないところ。<br>
わからないから、どう修正すればいいのかわからないの。<br>
自分は正しいと思って作ったのに、何故か動かない。<br>
だからこそストレスが溜まりやすいのよね。<br>
このエラーのイライラが原因で挫折する初心者も多いでしょう。<br>
修正する場所もわからない、エラーが出ないようにすることも叶わない。<br>
エラーというのは実に厄介なものよね。
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari04.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br><br><br>
多分知っていると思うけれど、東方弾幕風にはエラーが発生したときに<br>
どこが間違っているか教えてくれるウィンドウが表示されるわ。<br>
関数に与える引数の数を間違えた場合とかはわかりやすいわよね。<br>
ちゃんとエラーの原因と、間違っている行数を教えてくれるわ。<br>
だけど残念ながら確実にエラーの原因を指摘してくれるワケではないわ。<br>
例えばセミコロン (;) を忘れると『}が足りない』と言われたりするわ。<br>
そして { が余分にあると、『スクリプト内で { } が対応していない』とだけ出て、<br>
どの行数が間違っているのかわからないわ。<br>
だからと言って、このエラー警告の出来を責めないでね。<br>
コンピュータにエラーの指摘をさせるというのは、<br>
とても高度な技術がいることだから。<br>
だからこそこういった機能に頼らず、自力で解決できるのが望ましいわ。
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari03.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br>
ではどうやってエラーの解決ができるようになるか。<br>
それが今回のメインね。<br>
エラー対策を何も知らないよりは役に立つと思うわ。<br>
良かったら参考にしてみてね。
<br><br><br>
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari04.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br>
まず有効な方法の１つ。<br>
それは『エラーが出る前の状態からエラーが出た状態の間までに<br>
書き換えた箇所を覚えておくこと』よ。<br>
それを意識しておけば、エラーが出た原因の範囲を限定できるわ。<br>
プログラム全体をチェックするよりは大分マシよね。<br>
それに頻繁にファイルの保存、スクリプトの動作チェックを<br>
繰り返すようにすればエラーの範囲を狭めることもできるわよね。
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari02.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br><br>
そしてさらにエラーの範囲候補を絞り込むために、<br>
ex001で学んだコメントアウトが役に立つわ。<br>
エラーを消す最も大胆な方法として、<br>
エラーの可能性のある場所を全て消す方法があるわ。<br>
でも一旦消してまた書き直すなんて大変よね。<br>
消した内容を全て覚えているとも限らないわ。<br>
そんな時こそコメントアウト。<br>
コンピュータから見れば消えており、人から見れば消えていない。<br>
そんなコメントアウトを有効に使えばエラー探索に役立つわ。<br>
試しに例を見てみましょうか。
</p></td>
</tr>

</table>

<pre><font size="3">
task mainTask {
  (処理A)

  (処理B)

  (処理C)
}
</font></pre>

<table cellspacing="1" cellpadding="10" border="0">

<tr align="left">
<td width="120"><img src="./../icon/yukari04.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
大きくわけて３つの処理をするタスクを作っていたとしましょう。<br>
この状態ではちゃんとスクリプトが動作していたとするわ。<br>
そして次のように書き換えたとしましょう。
</p></td>
</tr>

</table>

<pre><font size="3">
task mainTask {
  (処理A)

  (書き換えた処理B)

  (書き換えた処理C)
}
</font></pre>

<table cellspacing="1" cellpadding="10" border="0">

<tr align="left">
<td width="120"><img src="./../icon/yukari02.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
処理Bの部分と処理Cの部分を書き換えた後にエラーが起きたとしましょう。<br>
先ほど言ったとおりエラー発生前の状態と発生後の状態を覚えておけば、<br>
処理Aの部分には原因がないということがわかるわよね。<br>
だから処理Aの部分を見る必要は無いわ。<br>
では次にこのようにコメントアウトしてみましょう。
</p></td>
</tr>

</table>

<pre><font size="3">
task mainTask {
  (処理A)
/*
  (書き換えた処理B)
*/
  (書き換えた処理C)
}
</font></pre>

<table cellspacing="1" cellpadding="10" border="0">

<tr align="left">
<td width="120"><img src="./../icon/yukari04.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br><br><br><br>
このようにコメントアウトすることで、処理Bの内容はコンピュータ的には<br>
無いものとみなされるわ。<br>
これでもしスクリプトがちゃんと動いたら、<br>
処理Bの部分に原因があり、処理Cの部分には原因が無い可能性が高いわ。<br>
逆にこれでも動かなかったら処理Cに原因があると言えるわね。<br>
まあ処理Bと処理Cの両方に原因がある可能性もあるけれど･･････<br>
このようにコメントアウトを使うことでエラーのある可能性を持つ範囲を<br>
少しずつ絞り込むことができるわ。<br>
更に狭い範囲で、１行単位でコメントアウトすればより原因を特定しやすいわね。<br>
ただしこのコメントアウトを使うときは、<br>
<b>{ } の対応がちゃんと維持されるようにコメントアウトすること。</b><br>
コメントアウトがエラーの原因になっては元も子もないわ。
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari07.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br><br><br><br>
もう１つ、これはあまりお勧めできる方法ではないのだけれど、<br>
一応テクニックの一つとして教えておきましょう。<br>
これは { } の対応がエラーの原因である場合の話よ。<br>
そんな時は怪しい場所に { か } を適当に付けるのよ。<br>
動かなかったら付けたものを消し、また別の場所に付けて消し･･････<br>
そうやって動くこともあるわ。<br>
それにもし { を付けて動いたら、{ が足りていないというのが<br>
エラーの原因であるとも推測できるわ。<br>
ただし当たり前だけどこのやり方は正しい { } の対応になる可能性は低いわ。<br>
スクリプトが動いても思い通りの弾幕を出してくれない方が多いでしょうし。<br>
だからこの方法はあくまでコメントアウトのチェックでもわからない場合の<br>
最終手段とした方がいいでしょう。
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari04.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br><br><br>
それともう１つエラーの発生に戸惑うのがコピペをした場合。<br>
別のスクリプトではちゃんと動いていたのに、<br>
それの一部をコピペしたらコピペ先のスクリプトでは動かない。<br>
そんなケースもあるのよね。<br>
{ } の対応に気を遣うのは当然だとしても、<br>
何かが足りずに動かなくなるというのもあるわ。<br>
よくあるのが変数。<br>
コピペ部分で使っている変数が、コピペ先ではその変数を宣言していなかったり。<br>
まあそれだったら『変数がない』っていうエラーメッセージが出るでしょうから、<br>
原因に気づくのは早いと思うけれどね。<br>
変数以外にも原因がある場合もあるから、<br>
そんなときはコピペする内容において足りないものがないか、<br>
そのことを意識するといいかもね。
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari02.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br><br><br>
それでもどうしてもエラーの原因が特定できなかったら、<br>
最初に言ったように始めからやり直すのも手よ。<br>
基本的に最も新しくスクリプトが動いた状態から始めるけれど、<br>
それより前に戻したい場合もあるでしょう。<br>
そういう場合は前の状態をコメントアウトで残しておくという<br>
状況も少ないでしょうし。<br>
そんなときはバックアップファイルを作っておくの。<br>
そうすれば安心よね。<br>
見比べることもできるし。<br>
特に大規模な作業をするとき、既に完成しているスクリプトを改変するとき、<br>
そんなときには特にバックアップファイルが有効だと思うわ。<br>
またバックアップファイルを作るときは区切りがいい場所で作ると<br>
理解しやすいし再利用や改変もしやすいでしょう。
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari04.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br><br>
またエラーで大変なのがプログラミング初心者の頃よね。<br>
一番始めの頃は基本となるスクリプトすら作れないこともあるから。<br>
まあその点はここの講座だと安心できると思うわ。<br>
最初から土台となるスクリプトは多分に用意しているし、<br>
既にできているものから書き換えていくやり方だからね。<br>
それでエラーが出ても、元のスクリプトと見比べることで<br>
エラーの発見をすることもできるし。<br>
ここの講座でわざわざたくさんスクリプト例を用意しているのは、<br>
エラーの発生で挫折しにくいようにする配慮でもあるワケ。<br>
まあ甘やかしな教え方かもしれないけれどね〜
</p></td>
</tr>
<tr align="left">
<td width="120"><img src="./../icon/yukari06.png" align="left" width="120" height="120"></td>
<td><p class="yukari">
<br><br>
とまあこんなところかしらね。<br>
何か役に立ちそうな話はあったかしら？<br>
エラーはプログラマの永遠の敵だから、対処法が多いに越したことはないでしょう。<br>
挫折しないよう、陰ながら応援させてもらうわ。<br>
それじゃ頑張ってね。
<br><br><br>
</p></td>
</tr>

</table>


</body>
</html>
